{"version":3,"sources":["components/DataProvider.tsx","components/Home.tsx","components/LevelDetail.tsx","components/Result.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["DataContext","React","createContext","isLoading","quesDict","usedChoices","setUsedChoices","csvString","require","serializeCsvData","rows","forEach","row","push","level","en","trim","meanings","DataProvider","props","useState","setisLoading","setDict","getData","a","async","axios","get","process","res","status","csvBody","request","responseText","dict","parse","useEffect","Provider","value","children","LevelWrapper","styled","div","Level","history","useHistory","className","onClick","id","label","levels","data","useContext","Object","keys","useLevels","map","key","QUESTION_NUMBER_PER_LEVEL","Number","voice","window","talkify","Html5Player","forceLanguage","setRate","Question","playText","question","context","useSetUsedChoices","choices","choice","index","style","pointerEvents","onChoosen","ProgressBarWrapper","params","useParams","questions","usedChocies","unUsedChoices","_","xor","length","useQuestions","totalQuestions","totalChoices","currentIndex","setIndex","useMemo","take","shuffle","opts","filter","wrongQAs","setWrongQAs","display","currentQuestion","answer","userAnswer","height","progress","Math","round","showPercentage","Sentence","QA","ResultPageWrapper","QAs","location","state","now","Date","getFullYear","getMonth","getDate","type","name","required","print","LoadingWrapper","App","Consumer","exact","path","Home","LevelDetail","Result","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.93d62e2a.chunk.js","sourcesContent":["import axios from \"axios\";\nimport _ from \"lodash\";\nimport React, { useState } from \"react\";\nexport const DataContext = React.createContext<{\n  isLoading: boolean;\n  quesDict: {\n    [key: number]: IQuestion[];\n  };\n  usedChoices: string[];\n  setUsedChoices: any;\n}>({\n  isLoading: true,\n  quesDict: {},\n  usedChoices: [],\n  // tslint:disable-next-line:no-empty\n  setUsedChoices: () => {},\n});\n\n// tslint:disable-next-line:no-var-requires\nconst csvString = require(\"csv-string\");\n\nexport interface IQuestion {\n  level: number;\n  en: string;\n  meanings: string[];\n}\n\nexport const useSetUsedChoices = () => {\n  const context = React.useContext(DataContext);\n  return [context.usedChoices, context.setUsedChoices];\n};\n\nconst serializeCsvData = (\n  rows: Array<[number, string, string, string, string]>,\n) => {\n  const quesDict: {\n    [key: number]: IQuestion[];\n  } = {};\n\n  rows.forEach(row => {\n    if (!quesDict[row[0]]) {\n      quesDict[row[0]] = [];\n    }\n    quesDict[row[0]].push({\n      level: row[0],\n      en: row[1].trim(),\n      meanings: [row[2].trim(), row[3].trim(), row[4].trim()],\n    });\n  });\n  return quesDict;\n};\n\nexport const useLevels = () => {\n  const data = React.useContext(DataContext);\n  return Object.keys(data.quesDict);\n};\n\nexport const useQuestions = (level: number) => {\n  const data = React.useContext(DataContext);\n\n  const questions = data.quesDict[level];\n  const choices = questions.map(question => question.meanings[1]); // the 4th position in record\n  const usedChocies = data.usedChoices;\n  const unUsedChoices = _.xor(choices, usedChocies);\n\n  if (unUsedChoices.length <= 3) {\n    data.setUsedChoices([]);\n    return {\n      questions,\n      choices,\n    };\n  }\n  return {\n    questions,\n    choices: unUsedChoices,\n  };\n};\nconst DataProvider: React.FC = props => {\n  const [isLoading, setisLoading] = useState<boolean>(true);\n  const [usedChoices, setUsedChoices] = useState<string[]>([]);\n  const [quesDict, setDict] = useState<{\n    [key: number]: IQuestion[];\n  }>([]);\n\n  const getData = async () => {\n    const res = await axios.get(process.env.REACT_APP_DATA_LINK as any);\n    if (res.status === 200) {\n      const csvBody = res.request.responseText;\n      const dict = serializeCsvData(csvString.parse(csvBody));\n      setDict(dict);\n    }\n  };\n\n  React.useEffect(() => {\n    (async () => {\n      await getData();\n      setisLoading(false);\n    })();\n  }, []);\n  return (\n    <DataContext.Provider\n      value={{ isLoading, quesDict, usedChoices, setUsedChoices }}\n    >\n      {props.children}\n    </DataContext.Provider>\n  );\n};\nexport default DataProvider;\n","import React from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useLevels } from \"./DataProvider\";\nconst LevelWrapper = styled.div`\n  cursor: pointer;\n`;\nconst Level: React.FC<{ label: string; id: string }> = props => {\n  const history = useHistory();\n  const onLevelClick = () => {\n    history.push(`/level-detail/${props.id}`);\n  };\n  return (\n    <LevelWrapper className=\"level\" onClick={onLevelClick}>\n      {props.label}\n    </LevelWrapper>\n  );\n};\n\nexport default () => {\n  const levels = useLevels();\n  return (\n    <>\n      <div id=\"start\">なんたんご</div>\n      {levels.map(level => (\n        <Level label={`Lv${level}`} id={level} key={level} />\n      ))}\n    </>\n  );\n};\n","import _ from \"lodash\";\nimport React from \"react\";\nimport ProgressBar from \"react-flexible-progressbar\";\nimport \"react-flexible-progressbar/dist/progressBar.css\";\nimport { useHistory, useParams } from \"react-router\";\nimport styled from \"styled-components\";\nimport { IQuestion, useQuestions, useSetUsedChoices } from \"./DataProvider\";\nconst QUESTION_NUMBER_PER_LEVEL = Number(\n  process.env.REACT_APP_QUESTION_NUMBER as string,\n);\nconst talkify = (window as any).talkify;\nconst voice = new talkify.Html5Player();\nvoice.forceLanguage(\"en\");\nvoice.setRate(1);\nconst Question: React.FC<{\n  question: IQuestion;\n  onChoosen: any;\n  choices: string[];\n}> = props => {\n  React.useEffect(() => {\n    voice.playText(props.question.en);\n  }, [props.question]);\n\n  const [usedChoices, setUsedChoices] = useSetUsedChoices();\n  return (\n    <>\n      <div id=\"question\">\n        <p>{props.question.en}</p>\n      </div>\n      <div id=\"choices\">\n        {props.choices.map((choice, index) => (\n          <div\n            className=\"choice\"\n            style={{ pointerEvents: \"auto\" }}\n            key={choice + index}\n            onClick={() => {\n              setUsedChoices([...usedChoices, ...props.choices]);\n              props.onChoosen(props.question, choice);\n            }}\n          >\n            {choice}\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport type IQuestionAnswer = IQuestion & {\n  userAnswer: string;\n};\nconst ProgressBarWrapper = styled.div`\n  width: 100%;\n  position: absolute;\n  padding: 0 10px;\n  box-sizing: border-box;\n  bottom: 10px;\n`;\n\nexport default () => {\n  const params: {\n    id?: string | undefined;\n  } = useParams();\n  const { questions: totalQuestions, choices: totalChoices } = useQuestions(\n    Number(params.id),\n  );\n  const history = useHistory();\n  const [currentIndex, setIndex] = React.useState<number>(0);\n  const questions = React.useMemo(() => {\n    return _.take(_.shuffle(totalQuestions), QUESTION_NUMBER_PER_LEVEL);\n  }, [totalQuestions]);\n\n  const choices = React.useMemo(() => {\n    if (questions[currentIndex]) {\n      const opts = _.take(\n        _.shuffle(\n          totalChoices.filter(\n            choice => choice !== questions[currentIndex].meanings[1], // the 4th position in record\n          ),\n        ),\n        2,\n      );\n      opts.push(questions[currentIndex].meanings[1]); // the 4th position in record\n      return _.shuffle(opts);\n    }\n    return [];\n  }, [totalChoices, currentIndex, questions]);\n\n  const [wrongQAs, setWrongQAs] = React.useState<IQuestionAnswer[]>([]);\n  const question = React.useMemo(() => {\n    return questions[currentIndex];\n  }, [questions, currentIndex]);\n  const onChoosen = (currentQuestion: IQuestion, answer: string) => {\n    if (currentQuestion.meanings[1] !== answer) {\n      // the 4th position in record !== user answer\n      setWrongQAs([\n        ...wrongQAs,\n        {\n          ...currentQuestion,\n          userAnswer: answer,\n        },\n      ]);\n    }\n    setIndex(currentIndex + 1);\n  };\n  React.useEffect(() => {\n    if (currentIndex >= QUESTION_NUMBER_PER_LEVEL) {\n      history.push(\"/result\", {\n        wrongQAs,\n      });\n    }\n  }, [currentIndex, history, wrongQAs]);\n  return (\n    <div id=\"quiz\" style={{ display: \"block\" }}>\n      {question && (\n        <>\n          <Question\n            question={question}\n            onChoosen={onChoosen}\n            choices={choices}\n          />\n          <ProgressBarWrapper>\n            <ProgressBar\n              height={10}\n              progress={Math.round(\n                (currentIndex / QUESTION_NUMBER_PER_LEVEL) * 100,\n              )}\n              showPercentage={true}\n            />\n          </ProgressBarWrapper>\n        </>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport { IQuestionAnswer } from \"./LevelDetail\";\nconst Sentence: React.FC<{\n  QA: IQuestionAnswer;\n}> = ({ QA }) => {\n  return (\n    <div className=\"sentence\">\n      <div className=\"word_en\">{QA.en}</div>\n      <div className=\"word_sound\">{QA.meanings[0]}</div>\n      <div className=\"word_ja\">{QA.meanings[1]}</div>\n    </div>\n  );\n};\nconst ResultPageWrapper = styled.div`\n  padding: 5px;\n  .success-message,\n  #review {\n    margin-top: 5px;\n  }\n`;\nexport default () => {\n  const history = useHistory<{ wrongQAs: IQuestionAnswer[] }>();\n  const QAs = history.location.state.wrongQAs;\n\n  const now = new Date();\n  return (\n    <ResultPageWrapper>\n      <div id=\"namae\">\n        <p>\n          {`日時：${now.getFullYear()}年${now.getMonth() +\n            1}月${now.getDate()}日`}\n          　　名前：\n          <input type=\"text\" id=\"name\" name=\"name\" required />\n        </p>\n        <button onClick={window.print}>印刷する</button>\n      </div>\n      {QAs.length > 0 && (\n        <div id=\"review\">\n          {QAs.map((QA, index) => (\n            <Sentence key={index} QA={QA} />\n          ))}\n        </div>\n      )}\n      {QAs.length === 0 && (\n        <h3 className=\"success-message\">Congratulations, you are super!</h3>\n      )}\n    </ResultPageWrapper>\n  );\n};\n","import React from \"react\";\nimport { MemoryRouter, Route, Switch } from \"react-router-dom\";\nimport { ClipLoader } from \"react-spinners\";\nimport styled from \"styled-components\";\nimport \"./App.css\";\nimport DataProvider, { DataContext } from \"./components/DataProvider\";\nimport Home from \"./components/Home\";\nimport LevelDetail from \"./components/LevelDetail\";\nimport Result from \"./components/Result\";\n\nconst LoadingWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst App: React.FC = () => {\n  return (\n    <DataProvider>\n      <DataContext.Consumer>\n        {props => {\n          if (props.isLoading) {\n            return (\n              <LoadingWrapper>\n                <ClipLoader />\n              </LoadingWrapper>\n            );\n          }\n          return (\n            <MemoryRouter>\n              <Switch>\n                <Route exact path=\"/\">\n                  <div id=\"container\">\n                    <Home />\n                  </div>\n                </Route>\n                <Route path=\"/level-detail/:id\">\n                  <div id=\"container\">\n                    <LevelDetail />\n                  </div>\n                </Route>\n                <Route path=\"/result\">\n                  <Result />\n                </Route>\n              </Switch>\n            </MemoryRouter>\n          );\n        }}\n      </DataContext.Consumer>\n    </DataProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\n// tslint:disable-next-line:interface-name\ninterface Config {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}