(this["webpackJsonpcustomer-23562198-hirokinoguchi"]=this["webpackJsonpcustomer-23562198-hirokinoguchi"]||[]).push([[0],{111:function(e,n){},113:function(e,n){},127:function(e,n,t){},128:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(49),i=t.n(c),o=t(5),u=t(15),s=t(50),l=t(6),m=(t(87),t(16)),d=t.n(m),f=t(8),v=t(51),h=t.n(v),p=t(7),E=t.n(p),g=r.a.createContext({isLoading:!0,quesDict:{},usedChoices:[],setUsedChoices:function(){}}),b=t(106),w=function(e){var n={};return e.forEach((function(e){n[e[0]]||(n[e[0]]=[]),n[e[0]].push({level:e[0],en:e[1].trim(),meanings:[e[2].trim(),e[3].trim(),e[4].trim()]})})),n},j=function(e){var n=Object(a.useState)(!0),t=Object(f.a)(n,2),c=t[0],i=t[1],o=Object(a.useState)([]),u=Object(f.a)(o,2),s=u[0],l=u[1],m=Object(a.useState)([]),v=Object(f.a)(m,2),p=v[0],E=v[1],j=function(){var e,n,t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(h.a.get("/data/data.csv"));case 2:200===(e=a.sent).status&&(n=e.request.responseText,t=w(b.parse(n)),E(t));case 4:case"end":return a.stop()}}))};return r.a.useEffect((function(){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(j());case 2:i(!1);case 3:case"end":return e.stop()}}))}),[]),r.a.createElement(g.Provider,{value:{isLoading:c,quesDict:p,usedChoices:s,setUsedChoices:l}},e.children)};function O(){var e=Object(o.a)(["\n  cursor: pointer;\n"]);return O=function(){return e},e}var x=l.a.div(O()),C=function(e){var n=Object(u.d)();return r.a.createElement(x,{className:"level",onClick:function(){n.push("/level-detail/".concat(e.id))}},e.label)},y=function(){var e=function(){var e=r.a.useContext(g);return Object.keys(e.quesDict)}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"start"},"\u306a\u3093\u305f\u3093\u3054"),e.map((function(e){return r.a.createElement(C,{label:"Lv".concat(e),id:e,key:e})})))},k=t(56),q=t(24),N=t(55),D=t.n(N);t(126);function L(){var e=Object(o.a)(["\n  width: 100%;\n  position: absolute;\n  padding: 0 10px;\n  box-sizing: border-box;\n  bottom: 10px;\n"]);return L=function(){return e},e}var A=Number("50"),M=new window.talkify.Html5Player;M.forceLanguage("en"),M.setRate(1);var S=function(e){r.a.useEffect((function(){M.playText(e.question.en)}),[e.question]);var n=function(){var e=r.a.useContext(g);return[e.usedChoices,e.setUsedChoices]}(),t=Object(f.a)(n,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"question"},r.a.createElement("p",null,e.question.en)),r.a.createElement("div",{id:"choices"},e.choices.map((function(n,t){return r.a.createElement("div",{className:"choice",style:{pointerEvents:"auto"},key:n+t,onClick:function(){c([].concat(Object(q.a)(a),Object(q.a)(e.choices))),e.onChoosen(e.question,n)}},n)}))))},F=l.a.div(L()),Q=function(){var e=Object(u.e)(),n=function(e){var n=r.a.useContext(g),t=n.quesDict[e],a=t.map((function(e){return e.meanings[1]})),c=n.usedChoices,i=E.a.xor(a,c);return i.length<=3?(n.setUsedChoices([]),{questions:t,choices:a}):{questions:t,choices:i}}(Number(e.id)),t=n.questions,a=n.choices,c=Object(u.d)(),i=r.a.useState(0),o=Object(f.a)(i,2),s=o[0],l=o[1],m=r.a.useMemo((function(){return E.a.take(E.a.shuffle(t),A)}),[t]),d=r.a.useMemo((function(){if(m[s]){var e=E.a.take(E.a.shuffle(a.filter((function(e){return e!==m[s].meanings[1]}))),2);return e.push(m[s].meanings[1]),E.a.shuffle(e)}return[]}),[a,s,m]),v=r.a.useState([]),h=Object(f.a)(v,2),p=h[0],b=h[1],w=r.a.useMemo((function(){return m[s]}),[m,s]);return r.a.useEffect((function(){s>=A&&c.push("/result",{wrongQAs:p})}),[s,c,p]),r.a.createElement("div",{id:"quiz",style:{display:"block"}},w&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{question:w,onChoosen:function(e,n){e.meanings[1]!==n&&b([].concat(Object(q.a)(p),[Object(k.a)({},e,{userAnswer:n})])),l(s+1)},choices:d}),r.a.createElement(F,null,r.a.createElement(D.a,{height:10,progress:Math.round(s/A*100),showPercentage:!0}))))};function U(){var e=Object(o.a)(["\n  padding: 5px;\n  .success-message,\n  #review {\n    margin-top: 5px;\n  }\n"]);return U=function(){return e},e}var P=function(e){var n=e.QA;return r.a.createElement("div",{className:"sentence"},r.a.createElement("div",{className:"word_en"},n.en),r.a.createElement("div",{className:"word_sound"},n.meanings[0]),r.a.createElement("div",{className:"word_ja"},n.meanings[1]))},_=l.a.div(U()),z=function(){var e=Object(u.d)().location.state.wrongQAs,n=new Date;return r.a.createElement(_,null,r.a.createElement("div",{id:"namae"},r.a.createElement("p",null,"\u65e5\u6642\uff1a".concat(n.getFullYear(),"\u5e74").concat(n.getMonth()+1,"\u6708").concat(n.getDate(),"\u65e5"),"\u3000\u3000\u540d\u524d\uff1a",r.a.createElement("input",{type:"text",id:"name",name:"name",required:!0})),r.a.createElement("button",{onClick:window.print},"\u5370\u5237\u3059\u308b")),e.length>0&&r.a.createElement("div",{id:"review"},e.map((function(e,n){return r.a.createElement(P,{key:n,QA:e})}))),0===e.length&&r.a.createElement("h3",{className:"success-message"},"Congratulations, you are super!"))};function B(){var e=Object(o.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return B=function(){return e},e}var J=l.a.div(B()),T=function(){return r.a.createElement(j,null,r.a.createElement(g.Consumer,null,(function(e){return e.isLoading?r.a.createElement(J,null,r.a.createElement(s.ClipLoader,null)):r.a.createElement(u.a,null,r.a.createElement(u.c,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement("div",{id:"container"},r.a.createElement(y,null))),r.a.createElement(u.b,{path:"/level-detail/:id"},r.a.createElement("div",{id:"container"},r.a.createElement(Q,null))),r.a.createElement(u.b,{path:"/result"},r.a.createElement(z,null))))})))};t(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,n,t){e.exports=t(128)},87:function(e,n,t){}},[[58,1,2]]]);
//# sourceMappingURL=main.648451ed.chunk.js.map