(this["webpackJsonpcustomer-23562198-hirokinoguchi"]=this["webpackJsonpcustomer-23562198-hirokinoguchi"]||[]).push([[0],{111:function(e,t){},113:function(e,t){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(49),i=n.n(c),o=n(5),u=n(15),s=n(50),l=n(6),m=(n(87),n(16)),d=n.n(m),f=n(8),v=n(51),h=n.n(v),p=n(7),E=n.n(p),g=r.a.createContext({isLoading:!0,quesDict:{},usedChoices:[],setUsedChoices:function(){}}),b=n(106),w=function(e){var t={};return e.forEach((function(e){t[e[0]]||(t[e[0]]=[]),t[e[0]].push({level:e[0],en:e[1].trim(),meanings:[e[2].trim(),e[3].trim(),e[4].trim()]})})),t},j=function(e){var t=Object(a.useState)(!0),n=Object(f.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)([]),u=Object(f.a)(o,2),s=u[0],l=u[1],m=Object(a.useState)([]),v=Object(f.a)(m,2),p=v[0],E=v[1],j=function(){var e,t,n;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(h.a.get("/assets/quiz-front/data/data.csv"));case 2:200===(e=a.sent).status&&(t=e.request.responseText,n=w(b.parse(t)),E(n));case 4:case"end":return a.stop()}}))};return r.a.useEffect((function(){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(j());case 2:i(!1);case 3:case"end":return e.stop()}}))}),[]),r.a.createElement(g.Provider,{value:{isLoading:c,quesDict:p,usedChoices:s,setUsedChoices:l}},e.children)};function O(){var e=Object(o.a)(["\n  cursor: pointer;\n"]);return O=function(){return e},e}var x=l.a.div(O()),C=function(e){var t=Object(u.d)();return r.a.createElement(x,{className:"level",onClick:function(){t.push("/level-detail/".concat(e.id))}},e.label)},y=function(){var e=function(){var e=r.a.useContext(g);return Object.keys(e.quesDict)}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"start"},"\u306a\u3093\u305f\u3093\u3054"),e.map((function(e){return r.a.createElement(C,{label:"Lv".concat(e),id:e,key:e})})))},k=n(56),q=n(23),N=n(55),D=n.n(N);n(127);function L(){var e=Object(o.a)(["\n  width: 100%;\n  position: absolute;\n  padding: 0 10px;\n  box-sizing: border-box;\n  bottom: 10px;\n"]);return L=function(){return e},e}var A=Number("50"),M=new window.talkify.Html5Player;M.forceLanguage("en"),M.setRate(1);var S=function(e){r.a.useEffect((function(){M.playText(e.question.en)}),[e.question]);var t=function(){var e=r.a.useContext(g);return[e.usedChoices,e.setUsedChoices]}(),n=Object(f.a)(t,2),a=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"question"},r.a.createElement("p",null,e.question.en)),r.a.createElement("div",{id:"choices"},e.choices.map((function(t,n){return r.a.createElement("div",{className:"choice",style:{pointerEvents:"auto"},key:t+n,onClick:function(){c([].concat(Object(q.a)(a),Object(q.a)(e.choices))),e.onChoosen(e.question,t)}},t)}))))},F=l.a.div(L()),Q=function(){var e=Object(u.e)(),t=function(e){var t=r.a.useContext(g),n=t.quesDict[e],a=n.map((function(e){return e.meanings[1]})),c=t.usedChoices,i=E.a.xor(a,c);return i.length<=3?(t.setUsedChoices([]),{questions:n,choices:a}):{questions:n,choices:i}}(Number(e.id)),n=t.questions,a=t.choices,c=Object(u.d)(),i=r.a.useState(0),o=Object(f.a)(i,2),s=o[0],l=o[1],m=r.a.useMemo((function(){return E.a.take(E.a.shuffle(n),A)}),[n]),d=r.a.useMemo((function(){if(m[s]){var e=E.a.take(E.a.shuffle(a.filter((function(e){return e!==m[s].meanings[1]}))),2);return e.push(m[s].meanings[1]),E.a.shuffle(e)}return[]}),[a,s,m]),v=r.a.useState([]),h=Object(f.a)(v,2),p=h[0],b=h[1],w=r.a.useMemo((function(){return m[s]}),[m,s]);return r.a.useEffect((function(){s>=A&&c.push("/result",{wrongQAs:p})}),[s,c,p]),r.a.createElement("div",{id:"quiz",style:{display:"block"}},w&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{question:w,onChoosen:function(e,t){e.meanings[1]!==t&&b([].concat(Object(q.a)(p),[Object(k.a)({},e,{userAnswer:t})])),l(s+1)},choices:d}),r.a.createElement(F,null,r.a.createElement(D.a,{height:10,progress:Math.round(s/A*100),showPercentage:!0}))))};function U(){var e=Object(o.a)(["\n  padding: 5px;\n  .success-message,\n  #review {\n    margin-top: 5px;\n  }\n"]);return U=function(){return e},e}var z=function(e){var t=e.QA;return r.a.createElement("div",{className:"sentence"},r.a.createElement("div",{className:"word_en"},t.en),r.a.createElement("div",{className:"word_sound"},t.meanings[0]),r.a.createElement("div",{className:"word_ja"},t.meanings[1]))},P=l.a.div(U()),_=function(){var e=Object(u.d)().location.state.wrongQAs,t=new Date;return r.a.createElement(P,null,r.a.createElement("div",{id:"namae"},r.a.createElement("p",null,"\u65e5\u6642\uff1a".concat(t.getFullYear(),"\u5e74").concat(t.getMonth()+1,"\u6708").concat(t.getDate(),"\u65e5"),"\u3000\u3000\u540d\u524d\uff1a",r.a.createElement("input",{type:"text",id:"name",name:"name",required:!0})),r.a.createElement("button",{onClick:window.print},"\u5370\u5237\u3059\u308b")),e.length>0&&r.a.createElement("div",{id:"review"},e.map((function(e,t){return r.a.createElement(z,{key:t,QA:e})}))),0===e.length&&r.a.createElement("h3",{className:"success-message"},"Congratulations, you are super!"))};function B(){var e=Object(o.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return B=function(){return e},e}var J=l.a.div(B()),T=function(){return r.a.createElement(j,null,r.a.createElement(g.Consumer,null,(function(e){return e.isLoading?r.a.createElement(J,null,r.a.createElement(s.ClipLoader,null)):r.a.createElement(u.a,null,r.a.createElement(u.c,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement("div",{id:"container"},r.a.createElement(y,null))),r.a.createElement(u.b,{path:"/level-detail/:id"},r.a.createElement("div",{id:"container"},r.a.createElement(Q,null))),r.a.createElement(u.b,{path:"/result"},r.a.createElement(_,null))))})))};n(128),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,n){e.exports=n(129)},87:function(e,t,n){}},[[58,1,2]]]);
//# sourceMappingURL=main.93d62e2a.chunk.js.map